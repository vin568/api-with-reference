{
  "swagger": "2.0",
  "info": {
    "title": "Complete Swagger 2.0 Example API",
    "description": "This API specification showcases all available fields defined in the Swagger 2.0 specification. It serves as a reference implementation for API designers and developers.\n\n## Features\n- Complete field coverage\n- Multiple authentication schemes\n- Comprehensive data models\n- Example parameters and responses",
    "termsOfService": "https://example.com/terms/",
    "contact": {
      "name": "API Support Team",
      "url": "https://www.example.com/support",
      "email": "[email protected]"
    },
    "license": {
      "name": "Apache 2.0",
      "url": "https://www.apache.org/licenses/LICENSE-2.0.html"
    },
    "version": "1.0.1",
    "x-api-id": "complete-example-api",
    "x-audience": "external"
  },
  "host": "api.example.com",
  "basePath": "/v1",
  "schemes": [
    "https",
    "http"
  ],
  "consumes": [
    "application/json",
    "application/xml"
  ],
  "produces": [
    "application/json",
    "application/xml"
  ],
  "paths": {
    "/users": {
      "parameters": [
        {
          "name": "X-Request-ID",
          "in": "header",
          "description": "Unique request identifier for tracing",
          "required": false,
          "type": "string",
          "format": "uuid"
        }
      ],
      "get": {
        "tags": [
          "Users",
          "Admin"
        ],
        "summary": "List all users",
        "description": "Retrieve a paginated list of all users in the system. Requires admin privileges.\n\nSupports filtering, sorting, and pagination.",
        "operationId": "listUsers",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json",
          "application/xml"
        ],
        "parameters": [
          {
            "$ref": "#/parameters/limitParam"
          },
          {
            "$ref": "#/parameters/offsetParam"
          },
          {
            "name": "sort",
            "in": "query",
            "description": "Sort field and direction",
            "required": false,
            "type": "string",
            "enum": [
              "name:asc",
              "name:desc",
              "created:asc",
              "created:desc"
            ]
          },
          {
            "name": "status",
            "in": "query",
            "description": "Filter by status",
            "required": false,
            "type": "string",
            "enum": [
              "active",
              "inactive",
              "pending"
            ]
          },
          {
            "name": "tags",
            "in": "query",
            "description": "Filter by tags",
            "required": false,
            "type": "array",
            "items": {
              "type": "string"
            },
            "collectionFormat": "csv"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved user list",
            "schema": {
              "$ref": "#/definitions/UserList"
            },
            "headers": {
              "X-Rate-Limit-Limit": {
                "description": "The number of allowed requests in the current period",
                "type": "integer"
              },
              "X-Rate-Limit-Remaining": {
                "description": "The number of remaining requests in the current period",
                "type": "integer"
              },
              "X-Rate-Limit-Reset": {
                "description": "The timestamp when the rate limit resets",
                "type": "integer"
              }
            },
            "examples": {
              "application/json": {
                "items": [
                  {
                    "id": 1,
                    "name": "John Doe",
                    "email": "[email protected]",
                    "status": "active"
                  }
                ],
                "total": 1,
                "limit": 20,
                "offset": 0
              }
            }
          },
          "400": {
            "$ref": "#/responses/BadRequest"
          },
          "401": {
            "$ref": "#/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/responses/Forbidden"
          },
          "429": {
            "$ref": "#/responses/TooManyRequests"
          },
          "default": {
            "$ref": "#/responses/GeneralError"
          }
        },
        "security": [
          {
            "OAuth2": [
              "read:users",
              "admin"
            ]
          },
          {
            "ApiKeyAuth": []
          }
        ],
        "externalDocs": {
          "description": "Find more information about user listing",
          "url": "https://docs.example.com/users/list"
        },
        "deprecated": false
      },
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "Create a new user",
        "description": "Create a new user account with the provided information",
        "operationId": "createUser",
        "consumes": [
          "application/json",
          "application/xml"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "user",
            "in": "body",
            "description": "User object that needs to be created",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UserInput"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "User successfully created",
            "schema": {
              "$ref": "#/definitions/User"
            },
            "headers": {
              "Location": {
                "description": "URL of the created user resource",
                "type": "string"
              }
            }
          },
          "400": {
            "$ref": "#/responses/BadRequest"
          },
          "409": {
            "description": "User already exists",
            "schema": {
              "$ref": "#/definitions/Error"
            }
          }
        },
        "security": [
          {
            "OAuth2": [
              "write:users"
            ]
          }
        ]
      }
    },
    "/users/{userId}": {
      "parameters": [
        {
          "$ref": "#/parameters/userIdParam"
        }
      ],
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Get user by ID",
        "description": "Retrieve detailed information about a specific user",
        "operationId": "getUserById",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "fields",
            "in": "query",
            "description": "Comma-separated list of fields to include",
            "required": false,
            "type": "array",
            "items": {
              "type": "string"
            },
            "collectionFormat": "csv"
          }
        ],
        "responses": {
          "200": {
            "description": "User found and returned",
            "schema": {
              "$ref": "#/definitions/User"
            }
          },
          "404": {
            "$ref": "#/responses/NotFound"
          }
        },
        "security": [
          {
            "OAuth2": [
              "read:users"
            ]
          }
        ]
      },
      "put": {
        "tags": [
          "Users"
        ],
        "summary": "Update user",
        "description": "Update an existing user's information",
        "operationId": "updateUser",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "user",
            "in": "body",
            "description": "Updated user object",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UserInput"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User successfully updated",
            "schema": {
              "$ref": "#/definitions/User"
            }
          },
          "404": {
            "$ref": "#/responses/NotFound"
          }
        }
      },
      "delete": {
        "tags": [
          "Users"
        ],
        "summary": "Delete user",
        "description": "Remove a user from the system",
        "operationId": "deleteUser",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "If-Match",
            "in": "header",
            "description": "ETag for optimistic concurrency control",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "204": {
            "description": "User successfully deleted"
          },
          "404": {
            "$ref": "#/responses/NotFound"
          },
          "412": {
            "description": "Precondition failed - ETag mismatch"
          }
        },
        "security": [
          {
            "OAuth2": [
              "delete:users",
              "admin"
            ]
          }
        ]
      },
      "patch": {
        "tags": [
          "Users"
        ],
        "summary": "Partially update user",
        "description": "Update specific fields of a user",
        "operationId": "patchUser",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "userPatch",
            "in": "body",
            "description": "User fields to update",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                },
                "email": {
                  "type": "string",
                  "format": "email"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User successfully patched",
            "schema": {
              "$ref": "#/definitions/User"
            }
          }
        }
      },
      "head": {
        "tags": [
          "Users"
        ],
        "summary": "Check if user exists",
        "description": "Check if a user exists without retrieving the full data",
        "operationId": "headUser",
        "responses": {
          "200": {
            "description": "User exists"
          },
          "404": {
            "description": "User not found"
          }
        }
      },
      "options": {
        "tags": [
          "Users"
        ],
        "summary": "Get supported operations",
        "description": "Returns the supported HTTP methods for this resource",
        "operationId": "optionsUser",
        "responses": {
          "200": {
            "description": "Supported operations",
            "headers": {
              "Allow": {
                "description": "Allowed HTTP methods",
                "type": "string"
              }
            }
          }
        }
      }
    },
    "/files/upload": {
      "post": {
        "tags": [
          "Files"
        ],
        "summary": "Upload a file",
        "description": "Upload a file with metadata",
        "operationId": "uploadFile",
        "consumes": [
          "multipart/form-data"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "file",
            "in": "formData",
            "description": "File to upload",
            "required": true,
            "type": "file"
          },
          {
            "name": "fileName",
            "in": "formData",
            "description": "Name of the file",
            "required": false,
            "type": "string"
          },
          {
            "name": "description",
            "in": "formData",
            "description": "File description",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "201": {
            "description": "File uploaded successfully",
            "schema": {
              "type": "object",
              "properties": {
                "fileId": {
                  "type": "string"
                },
                "url": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/login": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "User login",
        "description": "Authenticate user with credentials",
        "operationId": "login",
        "consumes": [
          "application/x-www-form-urlencoded"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "username",
            "in": "formData",
            "description": "Username",
            "required": true,
            "type": "string"
          },
          {
            "name": "password",
            "in": "formData",
            "description": "Password",
            "required": true,
            "type": "string",
            "format": "password"
          }
        ],
        "responses": {
          "200": {
            "description": "Login successful",
            "schema": {
              "type": "object",
              "properties": {
                "token": {
                  "type": "string"
                },
                "expiresIn": {
                  "type": "integer"
                }
              }
            }
          },
          "401": {
            "$ref": "#/responses/Unauthorized"
          }
        }
      }
    }
  },
  "definitions": {
    "User": {
      "type": "object",
      "description": "User account information",
      "required": [
        "id",
        "name",
        "email"
      ],
      "properties": {
        "id": {
          "type": "integer",
          "format": "int64",
          "description": "Unique identifier",
          "readOnly": true
        },
        "name": {
          "type": "string",
          "description": "User's full name",
          "minLength": 1,
          "maxLength": 100
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "User's email address"
        },
        "status": {
          "type": "string",
          "description": "Account status",
          "enum": [
            "active",
            "inactive",
            "pending",
            "suspended"
          ],
          "default": "pending"
        },
        "role": {
          "type": "string",
          "description": "User role"
        },
        "age": {
          "type": "integer",
          "format": "int32",
          "minimum": 18,
          "maximum": 120,
          "description": "User's age"
        },
        "balance": {
          "type": "number",
          "format": "double",
          "description": "Account balance",
          "readOnly": true
        },
        "isVerified": {
          "type": "boolean",
          "description": "Whether the email is verified",
          "default": false
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "Account creation timestamp",
          "readOnly": true
        },
        "birthday": {
          "type": "string",
          "format": "date",
          "description": "User's date of birth"
        },
        "metadata": {
          "type": "object",
          "description": "Additional metadata",
          "additionalProperties": {
            "type": "string"
          }
        },
        "tags": {
          "type": "array",
          "description": "User tags",
          "items": {
            "type": "string"
          },
          "uniqueItems": true
        },
        "avatar": {
          "type": "string",
          "format": "byte",
          "description": "Base64-encoded avatar image"
        },
        "preferences": {
          "$ref": "#/definitions/UserPreferences"
        }
      },
      "discriminator": "role",
      "xml": {
        "name": "User",
        "namespace": "https://example.com/schema/user",
        "prefix": "usr"
      },
      "externalDocs": {
        "description": "User schema documentation",
        "url": "https://docs.example.com/schemas/user"
      },
      "example": {
        "id": 1,
        "name": "John Doe",
        "email": "[email protected]",
        "status": "active",
        "role": "user"
      }
    },
    "UserInput": {
      "type": "object",
      "required": [
        "name",
        "email",
        "password"
      ],
      "properties": {
        "name": {
          "type": "string",
          "minLength": 1,
          "maxLength": 100
        },
        "email": {
          "type": "string",
          "format": "email"
        },
        "password": {
          "type": "string",
          "format": "password",
          "minLength": 8,
          "pattern": "^(?=.*[A-Z])(?=.*[a-z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$",
          "description": "Must contain uppercase, lowercase, digit, and special character"
        },
        "age": {
          "type": "integer",
          "minimum": 18
        }
      }
    },
    "UserPreferences": {
      "type": "object",
      "properties": {
        "theme": {
          "type": "string",
          "enum": [
            "light",
            "dark",
            "auto"
          ],
          "default": "auto"
        },
        "language": {
          "type": "string",
          "pattern": "^[a-z]{2}(-[A-Z]{2})?$",
          "default": "en"
        },
        "notifications": {
          "type": "boolean",
          "default": true
        }
      }
    },
    "UserList": {
      "type": "object",
      "properties": {
        "items": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/User"
          }
        },
        "total": {
          "type": "integer",
          "description": "Total number of users"
        },
        "limit": {
          "type": "integer"
        },
        "offset": {
          "type": "integer"
        }
      }
    },
    "Error": {
      "type": "object",
      "required": [
        "code",
        "message"
      ],
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32",
          "description": "Error code"
        },
        "message": {
          "type": "string",
          "description": "Error message"
        },
        "details": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "field": {
                "type": "string"
              },
              "issue": {
                "type": "string"
              }
            }
          }
        },
        "traceId": {
          "type": "string",
          "description": "Request trace identifier"
        }
      }
    },
    "Pet": {
      "type": "object",
      "discriminator": "petType",
      "required": [
        "name",
        "petType"
      ],
      "properties": {
        "name": {
          "type": "string"
        },
        "petType": {
          "type": "string"
        }
      }
    },
    "Cat": {
      "description": "A representation of a cat",
      "allOf": [
        {
          "$ref": "#/definitions/Pet"
        },
        {
          "type": "object",
          "required": [
            "huntingSkill"
          ],
          "properties": {
            "huntingSkill": {
              "type": "string",
              "description": "The measured skill for hunting",
              "default": "lazy",
              "enum": [
                "clueless",
                "lazy",
                "adventurous",
                "aggressive"
              ]
            }
          }
        }
      ]
    },
    "Dog": {
      "description": "A representation of a dog",
      "allOf": [
        {
          "$ref": "#/definitions/Pet"
        },
        {
          "type": "object",
          "required": [
            "packSize"
          ],
          "properties": {
            "packSize": {
              "type": "integer",
              "format": "int32",
              "description": "The size of the pack the dog is from",
              "default": 0,
              "minimum": 0
            }
          }
        }
      ]
    }
  },
  "parameters": {
    "limitParam": {
      "name": "limit",
      "in": "query",
      "description": "Maximum number of items to return",
      "required": false,
      "type": "integer",
      "format": "int32",
      "minimum": 1,
      "maximum": 100,
      "default": 20
    },
    "offsetParam": {
      "name": "offset",
      "in": "query",
      "description": "Number of items to skip",
      "required": false,
      "type": "integer",
      "format": "int32",
      "minimum": 0,
      "default": 0
    },
    "userIdParam": {
      "name": "userId",
      "in": "path",
      "description": "User identifier",
      "required": true,
      "type": "integer",
      "format": "int64"
    },
    "apiVersionHeader": {
      "name": "X-API-Version",
      "in": "header",
      "description": "API version",
      "required": false,
      "deprecated": true,
      "type": "string"
    },
    "sessionCookie": {
      "name": "sessionId",
      "in": "cookie",
      "description": "Session identifier",
      "required": false,
      "type": "string"
    }
  },
  "responses": {
    "NotFound": {
      "description": "The specified resource was not found",
      "schema": {
        "$ref": "#/definitions/Error"
      },
      "examples": {
        "application/json": {
          "code": 404,
          "message": "Resource not found"
        }
      }
    },
    "BadRequest": {
      "description": "Invalid request parameters",
      "schema": {
        "$ref": "#/definitions/Error"
      }
    },
    "Unauthorized": {
      "description": "Authentication is required",
      "schema": {
        "$ref": "#/definitions/Error"
      },
      "headers": {
        "WWW-Authenticate": {
          "description": "Authentication scheme",
          "type": "string"
        }
      }
    },
    "Forbidden": {
      "description": "Insufficient permissions",
      "schema": {
        "$ref": "#/definitions/Error"
      }
    },
    "TooManyRequests": {
      "description": "Rate limit exceeded",
      "schema": {
        "$ref": "#/definitions/Error"
      },
      "headers": {
        "X-RateLimit-Limit": {
          "description": "Request limit per period",
          "type": "integer"
        },
        "X-RateLimit-Remaining": {
          "description": "Remaining requests in period",
          "type": "integer"
        },
        "X-RateLimit-Reset": {
          "description": "Seconds until reset",
          "type": "integer"
        },
        "Retry-After": {
          "description": "Seconds to wait before retrying",
          "type": "integer"
        }
      }
    },
    "GeneralError": {
      "description": "An unexpected error occurred",
      "schema": {
        "$ref": "#/definitions/Error"
      }
    }
  },
  "securityDefinitions": {
    "ApiKeyAuth": {
      "type": "apiKey",
      "name": "X-API-Key",
      "in": "header",
      "description": "API key for authentication"
    },
    "BasicAuth": {
      "type": "basic",
      "description": "Basic HTTP authentication"
    },
    "OAuth2Implicit": {
      "type": "oauth2",
      "description": "OAuth 2.0 implicit flow",
      "flow": "implicit",
      "authorizationUrl": "https://example.com/oauth/authorize",
      "scopes": {
        "read:users": "Read user information",
        "write:users": "Modify user information",
        "delete:users": "Delete users",
        "admin": "Administrative access"
      }
    },
    "OAuth2Password": {
      "type": "oauth2",
      "description": "OAuth 2.0 password flow",
      "flow": "password",
      "tokenUrl": "https://example.com/oauth/token",
      "scopes": {
        "read:users": "Read user information",
        "write:users": "Modify user information"
      }
    },
    "OAuth2Application": {
      "type": "oauth2",
      "description": "OAuth 2.0 application flow",
      "flow": "application",
      "tokenUrl": "https://example.com/oauth/token",
      "scopes": {
        "api:access": "API access"
      }
    },
    "OAuth2AccessCode": {
      "type": "oauth2",
      "description": "OAuth 2.0 authorization code flow",
      "flow": "accessCode",
      "authorizationUrl": "https://example.com/oauth/authorize",
      "tokenUrl": "https://example.com/oauth/token",
      "scopes": {
        "read:users": "Read user information",
        "write:users": "Modify user information",
        "delete:users": "Delete users",
        "admin": "Administrative access"
      }
    },
    "OAuth2": {
      "type": "oauth2",
      "description": "OAuth 2.0 authentication (combined for reference)",
      "flow": "accessCode",
      "authorizationUrl": "https://example.com/oauth/authorize",
      "tokenUrl": "https://example.com/oauth/token",
      "scopes": {
        "read:users": "Read user information",
        "write:users": "Modify user information",
        "delete:users": "Delete users",
        "admin": "Administrative access"
      }
    }
  },
  "security": [
    {
      "OAuth2": [
        "read:users"
      ]
    },
    {
      "ApiKeyAuth": []
    },
    {}
  ],
  "tags": [
    {
      "name": "Users",
      "description": "User management operations",
      "externalDocs": {
        "description": "Find out more about users",
        "url": "https://docs.example.com/users"
      }
    },
    {
      "name": "Admin",
      "description": "Administrative operations",
      "externalDocs": {
        "description": "Admin documentation",
        "url": "https://docs.example.com/admin"
      }
    },
    {
      "name": "Files",
      "description": "File upload and management"
    },
    {
      "name": "Auth",
      "description": "Authentication operations"
    }
  ],
  "externalDocs": {
    "description": "Complete API documentation",
    "url": "https://docs.example.com"
  },
  "x-api-id": "swagger-2.0-complete-example",
  "x-tagGroups": [
    {
      "name": "User Management",
      "tags": [
        "Users",
        "Admin"
      ]
    },
    {
      "name": "Other Operations",
      "tags": [
        "Files",
        "Auth"
      ]
    }
  ]
}
